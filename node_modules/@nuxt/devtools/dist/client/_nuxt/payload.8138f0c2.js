import{_ as y}from"./StateEditor.vue.082de4fa.js";import{d as v,o as e,m as c,F as k,n as D,h as m,j as a,a5 as B,aM as w,aN as F,k as x,am as O,a as P,a9 as R,f as r,i as o,p as u,v as V,H as j,C as E,_ as H}from"./entry.704683a1.js";import{_ as A}from"./NSectionBlock.6778ba18.js";import{_ as G}from"./HelpFab.vue.5d67494b.js";import"./DataSchemaButton.vue.31fe918d.js";import"./json-editor-vue.d2d6ca22.js";import"./NIconTitle.vue.e492e44a.js";const K={key:0,flex:"~ col gap-1"},T={key:1,mt2:"",px4:"",italic:"",op35:""},z=v({__name:"StateGroup",props:{state:{},prefix:{default:""}},setup(f){return(t,n)=>{const i=y;return e(),c("div",null,[t.state&&Object.keys(t.state).length>0?(e(),c("div",K,[(e(!0),c(k,null,D(t.state,(l,s)=>(e(),m(i,{key:s,state:l,name:s.startsWith(t.prefix)?s.slice(t.prefix.length):s},{actions:a(_=>[B(t.$slots,"actions",w(F(_)))]),_:2},1032,["state","name"]))),128))])):(e(),c("div",T," No data "))])}}}),I={class:"markdown-body"},L=x("h1",null,"State & Async Data",-1),M=x("p",null,"// TODO",-1),W=[L,M],q={__name:"payload",setup(f,{expose:t}){return t({frontmatter:{}}),(i,l)=>(e(),c("div",I,W))}},J={key:0},at=v({__name:"payload",setup(f){const t=O(),n=P(()=>t.value?.nuxt.payload);async function i(l){await t.value?.nuxt.hooks.callHookParallel("app:data:refresh",l)}return(l,s)=>{const _=z,d=A,$=E,b=H,S=y,N=q,g=G,C=R("tooltip");return e(),c(k,null,[r(t)?(e(),c("div",J,[o(d,{icon:"carbon-data-set",text:"State",description:"Keyed state from `useState`",padding:!1},{default:a(()=>[o(_,{state:r(n).state,prefix:"$s"},null,8,["state"])]),_:1}),o(d,{icon:"carbon-data-blob",text:"Data",description:"Keyed state from `useAsyncData`",padding:!1},{actions:a(()=>[o($,{n:"xs primary","self-start":"",icon:"i-carbon-recycle",onClick:s[0]||(s[0]=h=>i())},{default:a(()=>[V(" Re-fetch all data ")]),_:1})]),default:a(()=>[o(_,{state:r(n).data},{actions:a(({isOpen:h,name:p})=>[h&&p?j((e(),m(b,{key:0,title:`Re-fetch '${p}'`,icon:"carbon-recycle",onClick:Q=>i([p])},null,8,["title","onClick"])),[[C,`Re-fetch '${p}'`,void 0,{bottom:!0}]]):u("",!0)]),_:1},8,["state"])]),_:1}),r(n).functions&&Object.keys(r(n).functions).length?(e(),m(d,{key:0,icon:"carbon-function",text:"Functions",description:"State for functions (experimental)"},{default:a(()=>[o(S,{"ml--6":"",state:r(n).functions},null,8,["state"])]),_:1})):u("",!0)])):u("",!0),o(g,null,{default:a(()=>[o(N)]),_:1})],64)}}});export{at as default};
